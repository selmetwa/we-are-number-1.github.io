!function(){function t(){var t=this;t.options&&(t.options.originList.forEach(function(e){var i=document.createElement("span"),n=document.createElement("i");i.classList.add("sellect-trigger","sellect-item"),n.classList.add("fa","fa-times","sellect-close-icon"),i.innerHTML=e,i.appendChild(n),t.originListHTML.appendChild(i)}),t.options.destinationList.forEach(function(e){var i=document.createElement("span"),n=document.createElement("i");i.classList.add("sellect-trigger","sellect-item"),n.classList.add("fa","fa-times","sellect-close-icon"),i.innerText=e,i.appendChild(n),t.destinationListHTML.appendChild(i)}),document.body.insertBefore(t.container,t.options.element),t.container.appendChild(t.destinationListHTML),t.container.appendChild(t.options.element),t.container.appendChild(t.originListHTML),t.container.appendChild(t.arrow))}function e(){var t=this;t.options&&(t.originListHTML.addEventListener("click",function(){i.call(t,event.target,t.destinationListHTML)},!1),t.destinationListHTML.addEventListener("click",function(){i.call(t,event.target,t.originListHTML)},!1),t.container.addEventListener("click",function(){p.call(t)},!1),t.arrow.addEventListener("click",function(){v.call(t)},!1),t.options.element.addEventListener("keyup",function(){switch(event.keyCode||event.charCode){case 40:t.originListHTML.childNodes.length>0&&(l.call(t),a.call(t));break;case 38:t.originListHTML.childNodes.length>0&&(o.call(t),c.call(t));break;case 13:d.call(t);break;default:n.call(t)}},!1),t.options.element.addEventListener("keydown",function(){s.call(t)},!1),t.options.element.addEventListener("focus",function(){p.call(t)},!1),window.addEventListener("click",function(){g.call(t)},!1))}function i(t,e){var i,n=this;t&&(i=t.classList.contains("sellect-trigger")?t:t.parentNode,event.stopPropagation(),!i||i.className.indexOf("sellected-list")>-1||i.className.indexOf("sellect-list")>-1||(i.parentNode.removeChild(i),e.appendChild(i),i.classList.remove("active"),n.options.element.value="",n.options.element.focus(),L.call(n,"keyup"),n.options.originList=[],n.options.destinationList=[],n.options.originList=n.getUnselected(),n.options.destinationList=n.getSelected(),n.options.onInsert&&n.options.onInsert(event,i),n.options.onRemove&&n.options.onRemove(event,i)))}function n(){var t=this,e=event.target.value;t.originListHTML.childNodes.forEach(function(t){-1!==t.innerText.indexOf(e)?t.style.display="inherit":t.style.display="none"})}function s(){var t=this,e=event.keyCode||event.charCode,i=event.target.value;8===e&&""===i&&t.destinationListHTML.childNodes.length>0&&t.destinationListHTML.lastElementChild.click()}function o(){var t,e=this.originListHTML.getElementsByClassName("active")[0];e&&e.previousElementSibling&&(t=r(e.previousElementSibling))&&(t.classList.add("active"),e.classList.remove("active"))}function l(){var t,e=this,i=e.originListHTML.getElementsByClassName("active")[0];i?i.nextElementSibling&&(t=r(i.nextElementSibling,"down"))&&(t.classList.add("active"),i.classList.remove("active")):(t=r(e.originListHTML.childNodes[0],"down"))&&t.classList.add("active")}function a(){var t=this,e=t.originListHTML.getElementsByClassName("active")[0];if(e)return e.offsetTop>=t.originListHTML.clientHeight+e.clientHeight?(t.originListHTML.scrollTop=t.originListHTML.scrollTop+e.clientHeight,!0):void 0}function c(){var t=this,e=t.originListHTML.getElementsByClassName("active")[0];if(e)return e.offsetTop<=t.originListHTML.scrollHeight-t.originListHTML.clientHeight+e.clientHeight?(t.originListHTML.scrollTop=t.originListHTML.scrollTop-e.clientHeight,!0):void 0}function r(t,e){if("down"===e)for(;null===t.offsetParent&&t.nextElementSibling;)t=t.nextElementSibling;else for(;null===t.offsetParent&&t.previousElementSibling;)t=t.previousElementSibling;return null!==t.offsetParent&&t}function d(){var t=this,e=t.originListHTML.getElementsByClassName("active")[0];i.call(t,e,t.destinationListHTML)}function L(t){var e=this,i=document.createEvent("Event");i.initEvent(t),e.options.element.dispatchEvent(i)}function p(){var t=this;event.stopPropagation(),t.originListHTML.classList.contains("open")||(t.options.element.focus(),t.originListHTML.classList.add("open"))}function g(){var t=this;event.stopPropagation(),t.originListHTML.classList.contains("open")&&t.originListHTML.classList.remove("open")}function v(){var t=this;event.stopPropagation(),t.originListHTML.classList.contains("open")?t.originListHTML.classList.remove("open"):t.originListHTML.classList.add("open")}function u(t,e){var i;for(i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}this.sellect=function(t,e){return new _Sellect(t,e)},this._Sellect=function(t,e){this.container=document.createElement("div"),this.originListHTML=document.createElement("div"),this.destinationListHTML=document.createElement("div"),this.arrow=document.createElement("i");var i={element:document.querySelector(t),originList:[],destinationList:[]};arguments[0]&&"object"==typeof arguments[1]&&(this.options=u(i,arguments[1]))},_Sellect.prototype.init=function(){var i=this;i.options&&(i.options.destinationList.forEach(function(t){i.options.originList=i.options.originList.filter(function(e){return e!==t})}),i.options.element.setAttribute("class","sellect-element"),i.container.setAttribute("class","sellect-container"),i.originListHTML.setAttribute("class","sellect-origin-list"),i.destinationListHTML.setAttribute("class","sellect-destination-list"),i.arrow.setAttribute("class","fa fa-chevron-down sellect-arrow-icon")),t.call(i),e.call(i)},_Sellect.prototype.getSelected=function(){var t=this;t.options.destinationList=[];for(var e=0;e<t.destinationListHTML.childNodes.length;e++)t.options.destinationList.push(t.destinationListHTML.childNodes[e].textContent);return t.options.destinationList},_Sellect.prototype.getUnselected=function(){var t=this;t.options.originList=[];for(var e=0;e<t.originListHTML.childNodes.length;e++)t.options.originList.push(t.originListHTML.childNodes[e].textContent);return t.options.originList}}();